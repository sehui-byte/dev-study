# life-cycle

Vue.js의 라이프 사이클은 크게 Creation, Mounting, Updating, Destruction 으로 나눌 수 있다.

![Untitled (4)](https://user-images.githubusercontent.com/78526031/119155701-69517300-ba8e-11eb-8fc4-5d6dd700b001.png)

## 1. Creation : 컴포넌트 초기화 단계

라이프 사이클 중에서 가장 처음 실행

*서버 렌더링에서도 지원되는 훅* 

→ 클라이언트 단과 서버단 렌더링 모두에서 처리해야할일이 있다면 이단계에서 하면 됨. 

컴포넌트 돔에 추가되기 전 → 돔에 접근하거나 `this.$el`을 사용할 수 없다.

### beforeCreate

훅 중에 가장 먼저 실행되는 훅. data와 events가 세팅되지 않은 시점 

→ 접근시 에러

### **created**

data와 events가 활성화되어 접근가능. 

여전히 템플릿과 가상돔은 마운트 및 렌더링되지 않은 상태

## 2. Mounting : 돔(DOM) 삽입 단계

초기 렌더링 직전 컴포넌트에 직접접근 가능. 

그러나 컴포넌트 초기에 세팅되어야할 데이터 페치는 **created** 단계 사용하는 것이 더 나음.

서버렌더링에서 지원x

### beforeMount

템플릿과 렌더 함수들이 컴파일된 후 첫 렌더링이 일어나기 직전에 실행.

대부분의 경우 사용하지 않는 것 권장.

### mounted

컴포넌트, 템플릿, 렌더링된 돔에 접근가능

모든 하위 컴포넌트가 마운트된 상태를 보장하지는 x

부모 자식 관계 컴포넌트에서 

mount는 부모 → 자식 순서가 아니다

Parent Created → Child Created → Child Mounted→ Parent Mounted 순

## 3. Updating : Diff 및 재 렌더링 단계

컴포넌트에서 사용되는 반응형 속성들이 변경되거나 어떤 이유로 재 렌더링이 발생되면 실행.

디버깅이나 프로파일링 등을 위해 컴포넌트 재 렌더링 시점을 알고 싶을때 사용하면 된다

서버렌더링에서는 호출되지 않는다.

### beforeUpdate

포넌트의 데이터가 변하여 업데이트 사이클이 시작될때 실행

→ 돔이 재 렌더링되고 패치되기 직전에 실행

### updated

컴포넌트의 데이터가 변하여 재 렌더링이 일어난 후 실행

돔이 업데이트 완료된 상태이므로 돔 종속적인 연산을 할 수 있다. 그러나 여기서 상태를 변경하면 무한루프에 빠질 수 있다. 모든 자식 컴포넌트의 재 렌더링 상태를 보장하지는 않는다.

## **4. Destruction : 해체 단계**

서버 렌더링시 호출되지 않는다.

### **beforeDestroy**

해체(뷰 인스턴스 제거)되기 직전에 호출된다.

컴포넌트는 원래 모습과 모든 기능들을 그대로 가지고 있다.

이벤트 리스너를 제거하거나 reactive subscription을 제거하고자 한다면 이 훅이 제격이다. 

### **destroyed**

이 훅은 해체(뷰 인스턴스 제거)된 후에 호출된다.

 Vue 인스턴스의 모든 디렉티브가 바인딩 해제 되고 모든 이벤트 리스너가 제거되며 모든 하위 Vue 인스턴스도 삭제된다.