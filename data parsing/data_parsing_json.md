###	이번달의 주제는 데이터의 교환방법 입니다.

##### 이번주 주제는 JSON입니다.



###### 목차

###### 1.JSON이란?

###### 		1-1 .JSON의 특징

###### 		1-2.JSON의 표준



###### 2.JSON의 문법



###### 3.JSON의 구조



- 1.JSON이란 무엇인가?

  - JSON은 JavaScript Object Notation의 약자입니다. 

  - JSON은 좀 더 쉽게 데이터를 교환하고 저장하기 위하여 만들어진 텍스트 기반의 데이터 교환 표준입니다.

    - JSON을 이해하기 위해선 javascript의 기본적인 내용을 알고 있어야 이해하기 쉬울 것입니다.

      - javascript의 내용을 이해하기 위해선 또 html의 기본적인 내용을 알고 있으면 수월합니다.

        (저는 그래서 html do it 책을 사서 개인공부를 따로 하고있습니다.)

        

  - 1-1.JSON의 특징

    - 1.JSON은 자바스크립트를 확장하여 만들어졌습니다.

      2.JSON은 자바스크립트 객체 표기법을 따릅니다.

      3.JSON은 사람과 기계가 모두 읽기 편하도록 고안되었습니다.

      4.JSON은 프로그래밍 언어와 운영체제에 독립적입니다.

      

  - 1-2.JSON의 표준

    - JSON은 2009년에 더글라스 크록포드(Douglas Crockford)라는 인물이 처음으로 규정하였습니다.

    - 현재 JSON은 RFC 7159와 ECMA-404라는 두 개의 경쟁 표준에 의해 규정되고 있습니다.

      

    - JSON의 표기법과 프로그래밍 언어별 지원 라이브러리는 아래의 링크를 가시면 정보를 볼 수 있습니다.

      - http://www.json.org/json-ko.html 

        

- 2.json의 문법

  - JSON은 자바스크립트의 객체 표기법에서 리터럴(literal)과 프로퍼티(property)를 표현하는 방법만 가져와서 사용합니다.

  - 따라서 JSON 데이터는 모양과 규칙이 매우 직관적이고 일정합니다. 그로 인해 브라우저 영역에서도 쉽고 빠르게 그 의미를 해석할 수 있으며, 다른 프로그래밍 언어에서도 구현하기 편합니다.

    

  - 여기서 짚고 넘어갈 내용은 리터럴(literal) 입니다.

    - 리터럴은 데이터 그 자체를 의미합니다. 변수에 넣는 변하지 않는 **데이터**를 의미하는 것입니다.

    - 아래의 예시를 들어봅니다.

      - ------

        int a = 1;

        int 앞에 final를 붙일 시 , a는 상수가 됩니다. 여기서의 리터럴은 1입니다. 앞서 언급한 대로 변하지 않는 값 입니다.

        즉, 1과 같이 변하지 않는 데이터(boolean, char, double, long, int, etc...)를 리터럴(literal)이라고 부릅니다.

        - 부연 설명을 하면 인스턴스를 하는 클래스의 데이터는 리터럴이 될 수 없습니다.

        - 보통의 인스턴스는 동적으로 사용하기 위해 작성되므로, 값이 언제 바뀔지 모르는 것이기 때문입니다.

        - 하지만 프로그래밍 에서 객체 리터럴이란 표현이 이용되고 있습니다. 데이터가 변하지 않도록 설계를 한 클래스를 불변 클래스라 칭하는 것인데,(immutable class) 해당 클래스는 한번 생성하면 객체 안의 데이터가 변하지 않습니다. 변할 상황이면 새로운 객체를 만들어주는 것이 원칙입니다.

        - 자바의 String, Color 같은 클래스가 이와 같은 예시로써, "abc" 와 같은 문자열을 자바에서는 '객체 리터럴' 짧게는 '리터럴' 이라고 표현 하는 것입니다.

          

  - 위의 내용을 토대로 보면 다음의 예시는 전부 리터럴 입니다.

    - 리터럴(literal)

      - 12   // 숫자 리터럴
        "JSON" // 문자열 리터럴
        true  // 불리언 리터럴

      

    - 객체(object)

      - 객체(object)란 실생활에서 우리가 인식할 수 있는 사물로 이해할 수 있습니다.

        JSON에서 객체란 이름(name)과 값(value)으로 구성된 프로퍼티(property)의 정렬되지 않은 집합입니다.

        다음 예제는 이름과 값으로 이루어진 네 쌍의 프로퍼티를 가지는 "Developer" 객체를 나타내는 예시입니다.

      - {
            "language": [
                {
                    "name": "HTML",
                    "category": "web",
                    "developer": "W3C"
                },
                {
                    "name": "CSS",
                    "category": "web",
                    "developer": "W3C"
                },
                {
                    "name": "Java",
                    "category": "application",
                    "developer": "Oracle"
                },
                {
                    "name": "Python",
                    "category": "application",
                    "developer": "Python"
                }
            ]
        }

      - 다만, json의 데이터가 항상 "key": "value" 형태로만 들어가는 것이 아닌, json 묶음 배열의 형태로도 위와 같이 들어가 있을 수 있습니다.
      - 아래의 json 구조 내용에서 위의 json에 포함된 각 데이터의 형태를 하나씩 살펴볼 것입니다.

        

    - json의 주석

      - JSON 표준의 창시자인 더글라스 크록포드는 JSON에는 주석이 들어가지 않는 것이 바르다고 규정하고 있습니다. 서로 다른 시스템 간의 연동과 호환성을 위한 조치라고 알려져 있습니다.
      - 반드시 주석을 사용해야 한다면, 주석이 포함된 JSON 데이터를 파싱하기 전에 주석만을 먼저 제거해야 합니다. 하지만 되도록 JSON 형식의 파일에는 주석을 사용하지 않는 것이 좋습니다.



- 3.JSON 의 구조

  - 구조

    - JSON은 자바스크립트의 객체 표기법으로부터 파생된 부분 집합입니다. 따라서 JSON 데이터는 다음과 같은 자바스크립트 객체 표기법에 따른 구조로 구성됩니다.

      - 1. JSON 데이터는 이름과 값의 쌍으로 이루어집니다.

        2. JSON 데이터는 쉼표(,)로 나열됩니다.

        3. 객체(object)는 중괄호({})로 둘러쌓아 표현합니다.

        4. 배열(array)은 대괄호([])로 둘러쌓아 표현합니다.

           

  - 데이터

    - JSON 데이터는 이름과 값의 쌍으로 구성됩니다. 이러한 JSON 데이터는 데이터 이름, 콜론(:), 값의 순서로 구성됩니다.

      - ##### 문법

        "데이터이름": 값

        

    - 다음 예제는 데이터의 이름이 "name"이고, 값은 "식빵"이라는 문자열을 갖는 JSON 데이터의 예제입니다.

      ##### 예제 >>  "name": "식빵"

      - 데이터의 이름도 문자열, 값도 문자열 이므로 항상 "" 으로 표기해야 합니다.

        

    - 데이터의 값으로는 다음과 같은 타입이 올 수 있습니다.

      1. 숫자(number)

      2. 문자열(string)

      3. 불리언(boolean)

      4. 객체(object)

      5. 배열(array)

      6. NULL

         

    - JSON 객체

      - JSON 객체는 중괄호({})로 둘러쌓아 표현합니다. 또한, JSON 객체는 쉼표(,)를 사용하여 여러 프로퍼티를 포함할 수 있습니다.

      - {
            "name": "식빵",
            "family": "웰시코기",
            "age": 1,
            "weight": 2.14,
            "StatusYN": False,
            "userId": "",
            "Regist_dt":"2021-07-03"
        }

      - 위의 JSON 객체 형태는 상기 언급했던 1~6번에 대한 데이터들이 전부 있습니다.

        

    - JSON 배열

      - JSON 배열은 대괄호([])로 둘러쌓아 표현합니다. 또한, JSON 배열은 쉼표(,)를 사용하여 여러 JSON 데이터를 포함할 수 있습니다.

      - 다음 예제는 배열의 이름이 "dog"이고, 3개의 JSON 객체를 요소로 가지는 JSON 배열의 예제입니다.

      - "dog": [
            {"name": "식빵", "family": "웰시코기", "age": 1, "weight": 2.14},
            {"name": "콩콩", "family": "포메라니안", "age": 3, "weight": 2.5},
            {"name": "젤리", "family": "푸들", "age": 7, "weight": 3.1}
        ]

        - 위의 데이터는 json 형태가 배열로써 묶여있는 것입니다.

        - 보통의 데이터 인터페이스를 위한 데이터 통신 형태의 종류중 하나인 JSON 데이터 목록을 보면, 다양한 형태의 타입과 유형이 하나의 Collections Framwork 문법 안에 묶여서 들어갑니다.

          

      - 상기의 데이터들을 자바 코드에서 처리하기 위해선 JSON 형태로 형변환을 해주어야 합니다.

        - JSONParser parser = new JSONParser();
          Object obj = parser.parse( jsonStr );

          이런 형태로 파싱 과정을 거칩니다.

          

          JSONObject jsonObj = (JSONObject) obj;
          파싱한 obj를 JSONObject 객체에 담아서 사용하면 됩니다.

        - import 할 해당 라이브러리는 다음과 같습니다.

          ```
          import org.json.simple.JSONObject;
          import org.json.simple.parser.JSONParser;
          ```

          
